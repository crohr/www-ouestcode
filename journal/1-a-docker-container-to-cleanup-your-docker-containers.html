<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Codelicacy</title>
    <link rel="stylesheet" href="/css/style.css">
  </head>
  <body class="journal">
    <div class="container">
      <div class="header">
        <div class="brand">
          <a href="/"><img src="/img/codelicacy.svg" class="logo"/></a>
        </div>
        <div class="menu">
          <a href="/products" class="products">Products</a>
	  <a href="/consulting" class="consulting">Consulting</a>
	  <a href="/journal" class="journal">Journal</a>
	  <a href="/about" class="about">About</a>
        </div>
      </div>
    </div>
    <div class="container">
      <div class="content">

<h1 id="a-docker-container-to-cleanup-your-docker-containers">A docker container to cleanup your docker containers</h1>
<p>If you don&#39;t use the <code>--rm</code> flag when launching docker containers (and even if you do), your disks are going to slowly but surely fill up with all the cached layers and unused images. People usually schedule <a href="https://github.com/chadoe/docker-cleanup-volumes">docker-cleanup-volumes</a> in a cron to counter this, but now you can also just run a docker image that does it for you:</p><pre><code class="lang-bash">docker run \
  -d \
  --restart=on-failure \
  -e KEEP_IMAGES=&quot;ubuntu:14.04 corp/important-image:tag&quot; \
  -v /var/run/docker.sock:/var/run/docker.sock:rw \
  -v /var/lib/docker:/var/lib/docker:rw \
  meltwater/docker-cleanup:latest
</code></pre>
<p>See the <a href="https://github.com/meltwater/docker-cleanup">relevant repo</a> for more details and a systemd init script.</p>      </div>
    </div>
    <div class="container">
      <div class="footer">
	<hr/>
	<p>
	  <a href="mailto:contact@codelicacy.com">contact@codelicacy.com</a>
	  -
          Codelicacy, Cyril Rohr EIRL - 99 rue de la rabine, 35510 Cesson-Sévigné, France
	</p>
      </div>
    </div>
  </body>
</html>
